(this.webpackJsonpvirtualassistant=this.webpackJsonpvirtualassistant||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(21),r=n.n(c),i=(n(46),n(47),n(18)),o=n(5),l=n(12),u=n(20),j=n(2),d=n.n(j),h=n(4),p=n(3),b=n(23),O=n.n(b),m=n(16),x=n.p+"static/media/mic_on.ccc2e903.png",f=n.p+"static/media/mic_off.efc866fc.png",v=n(7),g=n(0),w=function(e){var t=e.isShowing,n=e.hide;return t?r.a.createPortal(Object(g.jsxs)(s.a.Fragment,{children:[Object(g.jsx)("div",{className:"modal-overlay"}),Object(g.jsx)("div",{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog",children:Object(g.jsxs)("div",{className:"modal",children:[Object(g.jsx)("div",{className:"modal-header",children:Object(g.jsx)("button",{type:"button",className:"modal-close-button","data-dismiss":"modal","aria-label":"Close",onClick:n,children:Object(g.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(g.jsxs)("center",{children:[Object(g.jsx)("h1",{children:"Commands: "}),Object(g.jsx)("hr",{}),Object(g.jsx)("br",{})]}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("center",{children:Object(g.jsx)("h2",{children:"Action response:"})}),Object(g.jsx)("li",{children:'\u25b8 "clear" :|: clear transcript(spoken words)'}),Object(g.jsx)("li",{children:'\u25b8 ["(get) commands", "show commands"] :|: open commands modal'}),Object(g.jsx)("li",{children:'\u25b8 "(go) back" :|: browser back'}),Object(g.jsx)("li",{children:'\u25b8 "(go) forward" :|: browser forward'}),Object(g.jsx)("li",{children:'\u25b8 "open webpage *" :|: opens "http:// * .com"'}),Object(g.jsx)("li",{children:'\u25b8 "search google for *" :|: searches google for *'}),Object(g.jsx)("li",{children:'\u25b8 "google search exact *" :|: searches google for exact *'}),Object(g.jsx)("li",{children:'\u25b8 "add new task *" :|: gets new task ready to add to list'}),Object(g.jsx)("li",{children:'\u25b8 "(yes) create new task" :|: adds new task to todo list'}),Object(g.jsx)("li",{children:'\u25b8 ["show me my to-do list", "show me my to-dos", "set to-dos", "add to to-do list"] :|: opens to-do list'}),Object(g.jsx)("li",{children:'\u25b8 "show settings" :|: shows settings view; changes made here persist'}),Object(g.jsx)("li",{children:'\u25b8 "hide settings" :|: hides settings view'}),Object(g.jsx)("li",{children:'\u25b8 "whisper *" :|: whispers "okay, " + the words that follow; ideally, this will instead set whisper mode in the future'}),Object(g.jsx)("center",{children:Object(g.jsx)("li",{children:Object(g.jsx)("h4",{children:"Weather:"})})}),Object(g.jsx)("li",{children:'\u25b8 "fetch weather" :|: fetches weather data; **note** :|: we\'re working on fixing the need for this command, but for now, weather data must be fetched this way (only once) before making other weather commands.'}),Object(g.jsx)("li",{children:'\u25b8 ["(current) weather", "what\'s the weather", "what is the weather", "tell me the weather"] :|: gives current weather description'}),Object(g.jsx)("li",{children:'\u25b8 "current temperature" :|: gives current temperature'}),Object(g.jsx)("li",{children:'\u25b8 ["(current) moon phase", "what\'s the moon phase", "what phase is the moon (in)"] :|: gives (currently incorrect I believe, I need to work on that function...) the current moon phase.'}),Object(g.jsx)("center",{children:Object(g.jsx)("li",{children:Object(g.jsx)("h4",{children:"Time:"})})}),Object(g.jsx)("li",{children:'"set (a) timer for :timeout seconds" :|: sets a timer for :number seconds'}),Object(g.jsx)("li",{children:'\u25b8 "set a timer for :timeout minute" :|: sets a timer for :number minutes'}),Object(g.jsx)("li",{children:'\u25b8 "what time is it" :|: responds with the time (24hr only for now)'}),Object(g.jsx)("li",{children:'\u25b8 ["what is todays date", "what\'s today\'s date", "what\'s the date" ] :|: responds with the date (YYYY-MM-DD)'}),Object(g.jsx)("li",{children:'\u25b8 "what day is it" :|: responds with the weekday'})]})]})})]}),document.body):null};function y(e){var t=Object(m.useSpeechSynthesis)().voices;return Object(g.jsxs)("div",{className:"synth instructions glass-panel",style:{height:"372px"},children:[Object(g.jsx)("h1",{className:"synth-h1",children:"Voice Synthesizer"}),Object(g.jsxs)("form",{className:"synth-form",children:[Object(g.jsxs)("div",{className:"synth-input",children:[Object(g.jsx)("label",{htmlFor:"voice",children:"Voices: "}),Object(g.jsx)("div",{className:"select-wrapper",children:Object(g.jsxs)("select",{className:"voice-selector",style:{width:"300px"},id:"voice",name:"voice",value:e.voiceIndex||"",onChange:function(t){e.setVoiceIndex(t.target.value)},children:[Object(g.jsx)("option",{value:"",children:"\xab----------------- Select a voice -----------------\xbb"}),t&&t.map((function(e,t){return Object(g.jsx)("option",{value:t,children:"".concat(e.lang," - ").concat(e.name)},e.voiceURI)}))]})})]}),Object(g.jsxs)("div",{className:"synth-input",children:[Object(g.jsxs)("label",{htmlFor:"rate",children:["Rate: ",Object(g.jsx)("span",{children:e.rate})]}),Object(g.jsx)("input",{className:"rate-range range",style:{width:"300px"},type:"range",min:"0.5",max:"2",value:e.rate,defaultValue:"1",step:"0.1",id:"rate",onChange:function(t){e.setRate(t.target.value)}})]}),Object(g.jsxs)("div",{className:"synth-input",children:[Object(g.jsxs)("label",{htmlFor:"pitch",children:["Pitch: ",Object(g.jsx)("span",{children:e.pitch})]}),Object(g.jsx)("input",{className:"pitch-range range",style:{width:"300px"},type:"range",min:"0",max:"2",value:e.pitch,defaultValue:"1",step:"0.1",id:"pitch",onChange:function(t){e.setPitch(t.target.value)}})]})]}),Object(g.jsx)("p",{children:'When you\'re finished here, just say "Hide settings"'})]})}var S=n(15),k=n.n(S),N="https://virtual-assist-backend.herokuapp.com/todos";function C(){return(C=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(N);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(N,"/").concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(h.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(N,"/new"),{task:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(h.a)(d.a.mark((function e(t,n){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(N,"/").concat(t),n);case 2:return a=e.sent,s=a.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.delete("".concat(N,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(N,"/"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D={getAllTodos:function(){return C.apply(this,arguments)},getTodo:function(e){return T.apply(this,arguments)},createTodo:function(e){return E.apply(this,arguments)},updateTodo:function(e,t){return I.apply(this,arguments)},deleteTodo:function(e){return P.apply(this,arguments)},getMostRecentTodo:function(){return _.apply(this,arguments)}};n(74);function F(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(p.a)(c,2),i=r[0],o=r[1];Object(a.useEffect)((function(){(function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getAllTodos();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i){e.next=4;break}return console.log("no todo entered."),e.abrupt("return");case 4:if(!n.some((function(e){return e.task===i}))){e.next=7;break}return alert("Task: ".concat(i," already exists")),e.abrupt("return");case 7:return e.next=9,D.createTodo(i);case 9:a=e.sent,s([].concat(Object(u.a)(n),[a]));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(h.a)(d.a.mark((function e(t,a){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),c={done:!n.find((function(e){return e._id===a})).done},e.next=4,D.updateTodo(a,c);case 4:r=e.sent,s(n.map((function(e){return e._id===a?r:e})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(h.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.stopPropagation(),e.next=4,D.deleteTodo(a);case 4:s(n.filter((function(e){var t=e._id;return a!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"TodoForm",children:[Object(g.jsx)("h1",{className:"todo-list-title",children:"Todo List"}),Object(g.jsxs)("div",{className:"todo-input-container",children:[Object(g.jsxs)("div",{className:"todo-input-wrapper",children:[Object(g.jsx)("input",{id:"todo-input",type:"text",value:i,onChange:function(e){var t=e.target;return o(t.value)}}),Object(g.jsx)("button",{className:"todo-add-btn",type:"button",onClick:l,children:"Add"})]}),Object(g.jsx)("hr",{}),Object(g.jsx)("div",{className:"todo-list-wrapper",children:Object(g.jsx)("ul",{className:"todo-list",children:n.map((function(e,t){var n=e._id,a=e.task;e.done;return Object(g.jsxs)("div",{className:"list-item-wrapper",children:[Object(g.jsx)("div",{children:"\u274f"})," ",Object(g.jsxs)("li",{onClick:function(e){return j(e,n)},className:"list-item",children:[a," "]}),Object(g.jsx)("div",{className:"todo-delete",onClick:function(e){return b(e,n)},children:Object(g.jsx)("span",{children:"\xd7"})})]},t)}))})})]})]})}var R=n.p+"static/media/hilo_sparkle.c06427a5.mp3",V=n.p+"static/media/Bells10.50986450.mp3",L=n.p+"static/media/Bells11.ef0c518e.mp3",U=n.p+"static/media/Mech-Drone-12.c37e5b13.mp3",A=n.p+"static/media/PowerDown7.a72d43f4.mp3",B=n.p+"static/media/PowerUp18.88d3c8f9.mp3",M=n.p+"static/media/SynthChime8.3e1c743f.mp3",H=n.p+"static/media/SynthChime9.1b200687.mp3",W=n.p+"static/media/SynthChime11.52009352.mp3",Y=n.p+"static/media/UI_Quirky7.d17882b8.mp3",J=n.p+"static/media/UI_Quirky8.190f6fab.mp3",K=n.p+"static/media/sprinkle.6608214d.mp3",z=n.p+"static/media/lowTuTone.fa6e4839.mp3",G=n.p+"static/media/heard.3997879d.mp3",Q=n.p+"static/media/timer.3583f40d.mp3";n(75);function q(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=(t[0],t[1],Object({NODE_ENV:"production",PUBLIC_URL:"/VirtualAssistant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEEPL_KEY,Object(a.useState)("")),s=Object(p.a)(n,2),c=(s[0],s[1],Object(a.useState)(null)),r=Object(p.a)(c,2),i=(r[0],r[1],Object(a.useState)([])),o=Object(p.a)(i,2),u=(o[0],o[1],Object(a.useState)(!1)),j=Object(p.a)(u,2),S=j[0],k=(j[1],Object(a.useState)(!1)),N=Object(p.a)(k,2),C=N[0],T=(N[1],Object(a.useState)([])),E=Object(p.a)(T,2),I=(E[0],E[1],Object(a.useState)("")),P=Object(p.a)(I,2),_=(P[0],P[1],Object(a.useState)([])),D=Object(p.a)(_,2),q=(D[0],D[1]),X=Object(a.useState)([]),Z=Object(p.a)(X,2),$=(Z[0],Z[1]),ee=Object(a.useState)(null),te=Object(p.a)(ee,2),ne=(te[0],te[1],Object(a.useState)(1)),ae=Object(p.a)(ne,2),se=ae[0],ce=ae[1],re=Object(a.useState)(1),ie=Object(p.a)(re,2),oe=ie[0],le=ie[1],ue=Object(a.useState)(2),je=Object(p.a)(ue,2),de=je[0],he=je[1],pe=Object(a.useState)(""),be=Object(p.a)(pe,2),Oe=be[0],me=be[1];Object(a.useEffect)((function(){(function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){q(e.coords.latitude),$(e.coords.longitude)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var xe=Object(v.a)(V),fe=(Object(p.a)(xe,1)[0],Object(v.a)(L)),ve=(Object(p.a)(fe,1)[0],Object(v.a)(U)),ge=Object(p.a)(ve,2),we=(ge[0],ge[1]),ye=(we.sound,we.stop);we.isPlaying;Object(a.useEffect)((function(){return ye}),[]);var Se=Object(v.a)(A),ke=(Object(p.a)(Se,1)[0],Object(v.a)(B)),Ne=(Object(p.a)(ke,1)[0],Object(v.a)(M)),Ce=(Object(p.a)(Ne,1)[0],Object(v.a)(H)),Te=(Object(p.a)(Ce,1)[0],Object(v.a)(W,{onend:function(){Be({text:"testing speech after audio",voice:He[de]}),console.info("Sound has ended")}})),Ee=(Object(p.a)(Te,1)[0],Object(v.a)(Y)),Ie=(Object(p.a)(Ee,1)[0],Object(v.a)(J)),Pe=(Object(p.a)(Ie,1)[0],Object(v.a)(K)),_e=(Object(p.a)(Pe,1)[0],Object(v.a)(z)),De=(Object(p.a)(_e,1)[0],Object(v.a)(G)),Fe=(Object(p.a)(De,1)[0],Object(v.a)(Q,{onend:function(){Be({text:"timer has ended",voice:He[de]}),console.info("Timer has ended")}})),Re=Object(p.a)(Fe,2),Ve=(Re[0],Re[1]),Le=(Ve.timerSound,Ve.timerStop);Ve.isTimerPlaying;Object(a.useEffect)((function(){return Le}),[]);var Ue=Object(v.a)(R),Ae=(Object(p.a)(Ue,1)[0],Object(m.useSpeechSynthesis)({onEnd:function(){}})),Be=Ae.speak,Me=(Ae.cancel,Ae.speaking,Ae.supported),He=Ae.voices,We=(He[de],Object(b.useSpeechRecognition)({commands:[]})),Ye=We.transcript,Je=We.interimTranscript,Ke=We.finalTranscript,ze=(We.resetTranscript,We.listening),Ge=We.browserSupportsSpeechRecognition;Object(a.useEffect)((function(){""!==Je&&console.log("Got interim result:",Je),""!==Ke&&(console.log("Got final result:",Ke),me('This is my mock-answer to "'.concat(Ke,'"')),Be({text:'This is my mock-answer to "'.concat(Ke,'"'),voice:He[de]}))}),[Je,Ke]);var Qe=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],s=t[1];return{isShowing:n,toggle:function(){s(!n)}}}(),qe=Qe.isShowing,Xe=Qe.toggle,Ze=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),document.getElementsByClassName("virtual-assistant")[0].classList.remove("paused"),e.next=5,O.a.startListening({continuous:!1,language:"en-US"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),document.getElementsByClassName("virtual-assistant")[0].classList.add("paused"),e.next=5,O.a.stopListening();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et={voiceIndex:de,setVoiceIndex:he,rate:oe,setRate:le,pitch:se,setPitch:ce};return Ge?Me?Object(g.jsxs)("div",{className:"page",id:"VirtualAssistant",children:[Object(g.jsx)(w,{isShowing:qe,hide:Xe}),Object(g.jsx)("div",{className:"center-col virtual-assistant-container",children:Object(g.jsx)("div",{className:"paused virtual-assistant"})}),Object(g.jsxs)("div",{className:"center-col main",children:[S&&Object(g.jsx)(y,Object(l.a)({},et)),C&&Object(g.jsx)(F,{}),!S&&!C&&Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"instructions-container",children:Object(g.jsx)("div",{className:" glass-panel",id:"instructions",style:{height:"150px",width:"550px",marginBottom:"1px",value:{message:Oe}},children:Oe||"Hello, I'm a virtual assistant."})})}),Object(g.jsxs)("div",{className:"transcript-display",children:[Object(g.jsx)("textarea",{style:{margin:"0px",marginTop:"0px",height:"150px",width:"550px"},className:"glass-panel",id:"transcript",value:Ye,placeholder:"Hold the button and ask your question"})," "]})]}),Object(g.jsx)("div",{className:"form-container",children:Object(g.jsxs)("div",{className:"center-col buttons",style:{position:"relative",margin:"10px"},children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"hot-mic-btn",src:ze?x:f})}),Object(g.jsx)("button",{onMouseDown:Ze,onMouseUp:$e,className:"mic-btn",children:"\ud83c\udfa4"})]})})]}),")"]}):Object(g.jsxs)("span",{children:["No browser support for Speech Synthesis. Sorry, I'm trying to figure out polyfills"," "]}):(console.log("Browser support? ",Ge),Object(g.jsxs)("span",{children:["No browser support for Speech Recognition. Sorry, I'm trying to figure out polyfills"," "]}))}n(76);function X(){var e=Object(a.useState)("Hola, si."),t=Object(p.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(1),r=Object(p.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)(1),u=Object(p.a)(l,2),j=u[0],d=u[1],h=Object(a.useState)(null),b=Object(p.a)(h,2),O=b[0],x=b[1],f=Object(m.useSpeechSynthesis)({onEnd:function(){}}),v=f.speak,w=f.cancel,y=f.speaking,S=(f.supported,f.voices),k=S[O]||null;return Object(g.jsxs)("div",{className:"synth instructions glass-panel",style:{height:"372px"},children:[Object(g.jsx)("h1",{className:"synth-h1",children:"Voice Synthesizer"}),Object(g.jsxs)("form",{className:"synth-form",children:[Object(g.jsxs)("div",{className:"synth-input",children:[Object(g.jsx)("label",{htmlFor:"voice",children:"Voices: "}),Object(g.jsx)("div",{className:"select-wrapper",children:Object(g.jsxs)("select",{className:"voice-selector",style:{width:"300px"},id:"voice",name:"voice",value:O||"",onChange:function(e){x(e.target.value),console.log(e.target.value)},children:[Object(g.jsx)("option",{value:"",children:"\xab----------------- Select a voice -----------------\xbb"}),S.map((function(e,t){return Object(g.jsx)("option",{value:t,children:"".concat(e.lang," - ").concat(e.name)},e.voiceURI)}))]})})]}),Object(g.jsxs)("div",{className:"synth-input",children:[Object(g.jsxs)("label",{htmlFor:"rate",children:["Rate: ",Object(g.jsx)("span",{children:j})]}),Object(g.jsx)("input",{className:"rate-range range",style:{width:"300px"},type:"range",min:"0.5",max:"2",defaultValue:"1",step:"0.1",id:"rate",onChange:function(e){d(e.target.value)}})]}),Object(g.jsxs)("div",{className:"synth-input",children:[Object(g.jsxs)("label",{htmlFor:"pitch",children:["Pitch: ",Object(g.jsx)("span",{children:i})]}),Object(g.jsx)("input",{className:"pitch-range range",style:{width:"300px"},type:"range",min:"0",max:"2",defaultValue:"1",step:"0.1",id:"pitch",onChange:function(e){o(e.target.value)}})]}),Object(g.jsxs)("div",{className:"synth-input",children:[Object(g.jsx)("label",{htmlFor:"message",children:"Message: "}),Object(g.jsx)("textarea",{className:"message-box",id:"message",name:"message",rows:3,value:n,onChange:function(e){s(e.target.value)},style:{height:"75px",width:"300px",backgroundColor:"transparent",color:"white",padding:"10px"}})]}),Object(g.jsx)("div",{className:"speak-toggle-btn btn",children:y?Object(g.jsx)("button",{type:"button",onClick:w,children:"Stop"}):Object(g.jsx)("button",{type:"button",onClick:function(){return v({text:n,voice:k,rate:j,pitch:i})},children:"Speak"})})]}),Object(g.jsx)("p",{children:'When you\'re finished here, just say "Back to demo."'})]})}var Z=n(13);function $(e){return Object(g.jsx)("div",{children:Object(g.jsx)("h1",{children:"Dashboard"})})}n(77);function ee(){var e=Object(o.f)(),t=Object(a.useState)(!1),n=Object(p.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)({username:"",password:""}),u=Object(p.a)(r,2),j=u[0],b=u[1];Object(a.useEffect)((function(){localStorage.getItem("token")&&c(!0)}),[]);var O=function(){var t=Object(h.a)(d.a.mark((function t(n){var a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,fetch("https://virtual-assist-backend.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},j))});case 4:return a=t.sent,b({username:"",password:""}),t.next=8,a.json();case 8:(s=t.sent).token&&(window.localStorage.setItem("token",s.token),window.localStorage.setItem("username",s.username),c(!0),b({username:s.username,password:s.password}),e("../"),console.log(s.username," is now logged in.")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),m=function(e){var t;e.preventDefault(),b(Object(l.a)(Object(l.a)({},j),{},(t={},Object(Z.a)(t,e.target.id,e.target.value),Object(Z.a)(t,e.target.username,e.target.value),Object(Z.a)(t,e.target.password,e.target.value),t)))};return Object(g.jsx)("div",{className:"page",id:"Login",children:Object(g.jsx)("div",{children:s?Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:["You are logged in as ",j.username," "]}),Object(g.jsx)("button",{onClick:function(t){window.localStorage.clear(),c(!1),e("https://virtual-assist-backend.herokuapp.com/login")},children:"Log out?"}),Object(g.jsx)($,{})]})})}):Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"login-form-wrapper",children:[Object(g.jsx)("h1",{children:"Log in"}),Object(g.jsxs)("form",{className:"login-form",onSubmit:O,children:[Object(g.jsxs)("label",{htmlFor:"username",children:["Username:"," ",Object(g.jsx)("input",{type:"text",name:"username",id:"username",value:j.username,onChange:m})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"password",children:["Password:"," ",Object(g.jsx)("input",{type:"password",name:"password",id:"password",value:j.password,onChange:m})]}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{style:{cursor:"pointer"},type:"submit",value:"Log in"})]}),Object(g.jsx)("div",{style:{color:"blue",cursor:"pointer"},children:Object(g.jsx)(i.b,{to:"/register",children:"Sign up"})})]})})})})}n(82);function te(){var e=Object(o.f)(),t=Object(a.useState)(!1),n=Object(p.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(p.a)(r,2),u=(i[0],i[1]),j=Object(a.useState)({username:"",email:"",password:""}),b=Object(p.a)(j,2),O=b[0],m=b[1];Object(a.useEffect)((function(){localStorage.getItem("token")&&u(!0)}),[]);var x=function(){var t=Object(h.a)(d.a.mark((function t(n){var a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,fetch("https://virtual-assist-backend.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(l.a)({},O))});case 4:return a=t.sent,m({username:"",email:"",password:""}),t.next=8,a.json();case 8:(s=t.sent).token&&(window.localStorage.setItem("token",s.token),window.localStorage.setItem("username",s.username),u(!0),e.push("https://virtual-assist-backend.herokuapp.com/login")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),f=function(e){e.preventDefault(),m(Object(l.a)(Object(l.a)({},O),{},Object(Z.a)({},e.target.id,e.target.value)))};return Object(g.jsx)("div",{children:s?Object(g.jsx)(ee,{}):Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Registration"}),Object(g.jsx)("div",{children:Object(g.jsxs)("form",{className:"registration-form",onSubmit:x,children:[Object(g.jsxs)("label",{htmlFor:"username",children:["Username:"," ",Object(g.jsx)("input",{type:"text",name:"username",id:"username",value:O.username,onChange:f})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"email",children:["Email:"," ",Object(g.jsx)("input",{type:"text",name:"email",id:"email",value:O.email,onChange:f})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{htmlFor:"password",children:["Password:"," ",Object(g.jsx)("input",{type:"password",name:"password",id:"password",value:O.password,onChange:f})]}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{style:{cursor:"pointer"},type:"submit",value:"Register",onSubmit:function(e){e.preventDefault(),c(!0)}})]})})]})})}var ne=function(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{path:"/",exact:!0,component:q}),Object(g.jsx)(o.a,{path:"/voicesynthesizer",component:X}),Object(g.jsx)(o.a,{path:"/login",children:Object(g.jsx)(ee,{})}),Object(g.jsx)(o.a,{path:"/register",children:Object(g.jsx)(te,{})}),Object(g.jsx)(o.a,{path:"/dashboard",component:$}),Object(g.jsx)(o.a,{path:"/todos",children:Object(g.jsx)(F,{})})]})})};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(ne,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.ac028bb9.chunk.js.map